<!DOCTYPE html>
<html>
    <head>
        <title>xxx</title>
    </head>
    <body>
        get 방식
        <div>
            <% for(let i = 0; i < obj.list.length; i++){ %>
            <p><a href='./download?download=<%= obj.list[i] %>'><%= obj.list[i] %></a></p>
            <% } %>
        </div><br/>
        ajax post방식
        <div class="list" id="list"></div>
    </body>
    <script src="/javascripts/util.js"></script>
    <script src="/js/axios.min.js"></script>
    <script>
        var list = document.getElementById('list');
        function filelist(){
            list.childNodes[0] === undefined ? null : list.removeChild(list.childNodes[0]);
            axios.post('./list', {})
            .then(response => {
                console.log(response.data.list);
                var div = document.createElement('div');
                for(var data in response.data.list){
                    var p = document.createElement('p');
                    var a = document.createElement('a');
                    a.setAttribute('href', './download?download=' + response.data.list[data]);
                    a.appendChild(document.createTextNode(response.data.list[data]));
                    p.appendChild(a);
                    div.appendChild(p);
                }
                list.appendChild(div);
            });
        }
        filelist();
    </script>
</html>